
<div class="container custom-form position-absolute top-50 start-50 translate-middle p-4 mb-5 text-dark shadow-lg rounded">

    <p class="fw-bolder fs-2 text-center heading">Register</p>
    
    <div class="container m-2">

    
        <form class="row g-3" [formGroup]="user" (ngSubmit)="addUser()">

            <div class="col-md-12 m-auto" *ngIf="(restaurant || customer) && imageUrl">
                <div class="img-prev-box" [style.background-image]="'url(' + imageUrl + ')'">
                </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-6">
                <label for="fname" class="form-label">Name</label>
                <input type="text" class="form-control" formControlName="userName"
                    placeholder="Enter Name">
                        <div *ngIf="user.get('userName')?.touched && user.get('userName')?.errors">
    
                            <div class="text-danger m-2" *ngIf="user.get('userName')?.errors?.['required']">Restaurant Name can't be blank</div>
                            <div class="text-danger m-2" *ngIf="user.get('userName')?.errors?.['pattern']">Invalid Format of Restaurant Name</div>
                        </div>
            </div>

            <div *ngIf="restaurant" class="col-md-6">
                <label for="fname" class="form-label">Owner name</label>
                <input type="text" class="form-control" formControlName="restOwnerName"
                    placeholder="Enter Restaurant Owner Name">
                        <div *ngIf="user.get('restOwnerName')?.touched && user.get('restOwnerName')?.errors">
    
                            <div class="text-danger m-2" *ngIf="user.get('restOwnerName')?.errors?.['required']">Restaurant Owner Name can't be blank</div>
                            <div class="text-danger m-2" *ngIf="user.get('restOwnerName')?.errors?.['pattern']">Invalid Format of Restaurant Owner</div>
                        </div>
            </div>

            <div *ngIf="customer" class="col-md-6">
                <label for="lname" class="form-label">Last name</label>
                <input type="text" class="form-control" placeholder="Optional...">
            </div>

            <div *ngIf="restaurant || customer" class="col-md-6">
                <label for="uemail" class="form-label">Email</label>
                <div class="input-group has-validation">
                    <input type="email" class="form-control" placeholder="Enter your email id" formControlName="userEmail" readonly>
                </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-6">
                <label class="form-label">Contact Number</label>
                <input type="text" class="form-control" formControlName="userContact"
                    placeholder="Enter your contact number">
                    <div *ngIf="user.get('userContact')?.touched && user.get('userContact')?.errors">
                        <div class="text-danger m-2" *ngIf="user.get('userContact')?.errors?.['required']">Contact Number can't be blank</div>
                        <div class="text-danger m-2" *ngIf="user.get('userContact')?.errors?.['pattern']">Invalid Format of Contact Number</div>
                        <div class="text-danger m-2" *ngIf="user.get('userContact')?.errors?.['minlength']">Contact Number should be at least 10 digits long</div>
                        <div class="text-danger m-2" *ngIf="user.get('userContact')?.errors?.['maxlength']">Contact Number should not exceed 10 digits</div>
                    </div>
                    </div>

            <div *ngIf="restaurant || customer" class="col-md-6">
                <label for="upass" class="form-label">Password</label>
                <input type="password" class="form-control" formControlName="userPass"
                    placeholder="Choose a strong password" required>
                    <div *ngIf="user.get('userPass')?.touched && user.get('userPass')?.errors">
                        <div class="text-danger m-2" *ngIf="user.get('userPass')?.errors?.['required']">Password is required</div>
                        <div class="text-danger m-2" *ngIf="user.get('userPass')?.errors?.['minlength']">Password must be at least 8 characters long</div>
                    </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-6">
                <label for="upassc" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" formControlName="confirmPassword" placeholder="Confirm your password" required>
                <div *ngIf="user.get('confirmPassword')?.touched && user.get('confirmPassword')?.errors">
                    <div class="text-danger m-2" *ngIf="user.get('confirmPassword')?.errors?.['required']">Confirm Password is required</div>
                    <div class="text-danger m-2" *ngIf="user.get('confirmPassword')?.errors?.['passwordMismatch']">Passwords do not match</div>
                </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-12">
                <label for="fname" class="form-label">Address</label>
                <input type="text" class="form-control" formControlName="userAddress"
                    placeholder="Enter Address">
                        <div *ngIf="user.get('userAddress')?.touched && user.get('userAddress')?.errors">
    
                            <div class="text-danger m-2" *ngIf="user.get('userAddress')?.errors?.['required']">Address can't be blank</div>
                            <div class="text-danger m-2" *ngIf="user.get('userAddress')?.errors?.['minlength']">Enter a valid Address</div>
                        </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-6">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" placeholder="Enter your city" formControlName="userCity">
                <div *ngIf="user.get('userCity')?.touched && user.get('userCity')?.errors">
                    <div class="text-danger m-2" *ngIf="user.get('userCity')?.errors?.['required']">City is required</div>
                </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-3">
                <label for="state" class="form-label">State</label> 
                <select class="form-select" formControlName="userState" style="border-radius: 10px;">
                    <option selected disabled value="">Choose...</option>
                    <option>Maharashtra</option>
                    <option>Karnataka</option>
                    <option>Kerala</option>
                    <option>Tamil Nadu</option>
                </select>
                <div *ngIf="user.get('userState')?.touched && user.get('userState')?.errors">
                    <div class="text-danger m-2" *ngIf="user.get('userState')?.errors?.['required']">State is required</div>
                   
                </div>
            </div>

            <div *ngIf="restaurant || customer" class="col-md-3">
                <label for="pincode" class="form-label">Pin Code</label>
                <input type="text" class="form-control" formControlName="userPin"
                    placeholder="Zip Code">
                    <div *ngIf="user.get('userPin')?.touched && user.get('userPin')?.errors">
                        <div class="text-danger m-2" *ngIf="user.get('userPin')?.errors?.['required']">Pin Code can't be blank</div>
                        <div class="text-danger m-2" *ngIf="user.get('userPin')?.errors?.['pattern']">Invalid Format of Pin Code</div>
                        <div class="text-danger m-2" *ngIf="user.get('userPin')?.errors?.['minlength']">Pin Code should be at least 6 digits long</div>
                        <div class="text-danger m-2" *ngIf="user.get('userPin')?.errors?.['maxlength']">Pin Code should not exceed 6 digits</div>
                    </div>
            </div>


            <div *ngIf="restaurant || customer" class="col-md-6">
                <label class="userImgLabel" for="userImg">Choose Img</label>
                <input class="userImg" type="file" formControlName="userImg" id="userImg" (change)="onFileSelected($event)">
                <div *ngIf="user.get('userImg')?.touched && user.get('userImg')?.errors">
                    <div class="text-danger m-2" *ngIf="user.get('userImg')?.errors?.['required']">Please Select Restaurant Image</div>
                     </div>
            </div>


            <div *ngIf="restaurant || customer" class="col-12">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="agree">
                  <label class="form-check-label">
                    Agree to terms and conditions
                  </label>
                </div>
                <div *ngIf="user.get('agree')?.touched && user.get('agree')?.errors">
                  <div class="text-danger m-2" *ngIf="user.get('agree')?.errors?.['required']">You must agree to Terms and Conditions!!</div>
                </div>
              </div>
    
            


              <div *ngIf="restaurant || customer" class="col-12 mt-4">
                <button type="submit" class="button-w3ls active mr-3" [disabled]="!user.valid">Register </button>
                <button type="reset" class="button-w3ls active ms-3"> Cancel</button>
            </div>
    
        </form>
    </div>

</div>


